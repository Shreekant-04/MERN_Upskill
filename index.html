<!DOCTYPE html>
<html>
  <head>
    <title>MERN Task</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div
      class="container mt-5 pb-5 pt-5"
      style="background-color: rgb(217, 235, 250); border-radius: 20px"
    >
      <h2 style="text-align: center">MERN Task</h2>
      <div class="row">
        <div class="offset-md-3 col-md-6">
          <input
            type="search"
            class="form-control"
            id="search"
            placeholder="Live Searching....."
          />
        </div>
      </div>

      <h3 id="error" class="text-center mt-3"></h3>

      <div class="row">
        <div class="offset-md-1 col-md-10">
          <table
            class="table table-bordered border-primary table-hover mt-5 text-capitalize"
            id="mytable"
          ></table>
        </div>
      </div>
    </div>

    <script>
      var array = [
        {
          id: "00",
          name: "Intro & Setup",
          task: "#",
          demo: "./Task/00_Task/index.html",
        },
        {
          id: "01",
          name: "HTML",
          task: "#",
          demo: "./Task/01_Task/index.html",
        },
        {
          id: "02",
          name: "CSS: Intro, Selectors, Colors",
          task: "#",
          demo: "./Task/02_Task/index.html",
        },
        {
          id: "03",
          name: "CSS: Units, Box Model, Fonts",
          task: "#",
          demo: "./Task/03_Task/index.html",
        },
        {
          id: "04",
          name: "CSS: Display, Postion, Float",
          task: "#",
          demo: "./Task/04_Task/index.html",
        },
        {
          id: "05",
          name: "CSS: FlexBox",
          task: "#",
          demo: "./Task/05_Task/index.html",
        },
        
      ];

      function showtable(curarray) {
        document.getElementById("mytable").innerHTML = `
    <tr class="bg-primary text-white fw-bold">
                <td>ID</td>
                <td>Name</td>
                <td>Task</td>
                <td>Demo</td>
            </tr> `;

        if (curarray == "") {
          document.getElementById(
            "error"
          ).innerHTML = `<span class='text-danger '>Not Found!</span>`;
        } else {
          document.getElementById("error").innerHTML = "";

          for (var i = 0; i < curarray.length; i++) {
            document.getElementById("mytable").innerHTML += ` 
              <tr > 
                <td>${curarray[i].id}</td> 
                <td>${curarray[i].name}</td> 
                <td><a href="${curarray[i].task}">Get Task</a></td>
                <td><a href="${curarray[i].demo}">Get Demo</a></td>
                </tr>
                `;
          }
        }
      }

      showtable(array);

      var newarray = [];

      document.getElementById("search").addEventListener("keyup", function () {
        var search = this.value.toLowerCase();

        newarray = array.filter(function (val) {
          if (
            val.id.includes(search) ||
            val.name.includes(search) ||
            val.task.includes(search) ||
            val.demo.includes(search)
          ) {
            var newobj = {
              id: val.id,
              name: val.name,
              task: val.task,
              demo: val.demo,
            };
            return newobj;
          }
        });

        showtable(newarray);
      });
    </script>
  </body>
</html>
